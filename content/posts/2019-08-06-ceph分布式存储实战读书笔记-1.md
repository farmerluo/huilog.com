---
title: Ceph分布式存储实战读书笔记-1
author: 阿辉
date: 2019-08-06T15:38:10+00:00
categories:
- Ceph
tags:
- Ceph
keywords:
- Ceph
comments: true
showTags: true
showPagination: true
showSocial: false
showDate: true
showMeta: true

---


# 1. 初识Ceph
![](data:image/png;base64,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)
## 1.1 Ceph核心组件
- Ceph OSD：全称是Object Storage Device,主要功能包括存储数据，处理数据的复制，恢复，回补，平衡数据分布。并将一些相关数据提供给Ceph Monitor，例如Ceph OSD心跳等。每一个Disk，分区都可以成为一个OSD。
- Ceph Monitor：Ceph的监控器，主要功能是维护整个集群的健康状态，提供一致性的决策，包含了Monitor map，OSD map，PG（Placement Group）map和CRUSH map。
- Ceph MDS：全称是Ceph Metadata Server，主要保存的是Ceph文件系统的元数据。注意：Ceph的块存储和Ceph的对象存储都不需要MDS，Ceph FS需要。

一个Ceph集群至少需要一个Ceph Monitor和至少2个Ceph的OSD。

<!--more-->

## 1.2 Ceph的功能特性
Ceph可以提供以下功能：

- RADOSGW（Reliable Autonomic Distributed Object Storage Gateway）对象存储：类似AMZ S3的对象存储功能
- RBD（Rados Block Device）块存储：通过LIBRBD创建一个块设备，通过KVM附加到VM上，作为传统的块设备来用。同时支持快照，COW（Copy On Write）等功能
- Ceph FS（Ceph File System）：一个基于RADOS来实现的分布式文件系统，引入了MDS，兼容POSIX文件系统提供元数据。可以当做文件系统来挂载。

## 1.3 Ceph 架构
![](data:image/png;base64,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)
Ceph的底层是RADOS，以上为Ceph的架构图。

- RADOS：RADOS有自我修复等特性，提供了一个可靠，自动，智能的分布式存储
- LIBRADOS：LIBRADOS库允许应用程序直接访问，支持C，java，Python等多种语言
- RADOSGW：RADOSGW是一套基于RESTful协议的网关，并且兼容S3和Swift。
- RBD：RBD通过Linux内核客户端和KVM驱动，来提供一个完全分布式的块设备。
- Ceph FS：Ceph FS通过Linux内核客户端结合FUSE，来提供一个兼容POSFIX的文件系统。

## 1.4 Ceph的设计思想
Ceph的技术特性主要为以下4个方面：

- 集群可靠性：尽可能保存数据不丢失以及数据写入过程中的可靠性
- 集群可扩展性：包括系统规模，存储容量以及随着系统节点数增加的聚合数据访问带宽的线性扩展。
- 数据安全性：保证硬件故障时数据不会丢失并且支持数据自动恢复，自动平衡。
- 接口统一性：是指Ceph支持的3种存储类型

通过技术特性可知Ceph的设计思想可以总结为两点：

- 充分发挥存储设备自身的计算能力
- 去除所有的中心点

